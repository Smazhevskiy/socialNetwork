(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{230:function(t,e,s){"use strict";s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return n}));var r=function(t){return t?void 0:"field is req"},n=function(t){return function(e){return e.length>t?"max length is ".concat(t," symbols"):void 0}}},231:function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return u}));var r=s(3),n=s(235),a=(s(0),s(232)),c=s.n(a),o=s(1),i=function(t){var e=t.input,s=t.meta,a=Object(n.a)(t,["input","meta"]),i=s.touched&&s.error;return Object(o.jsxs)("div",{className:"".concat(c.a.formControl," + ").concat(i?c.a.error:""," "),children:[Object(o.jsx)("div",{children:Object(o.jsx)("textarea",Object(r.a)(Object(r.a)({},e),a))}),i&&Object(o.jsx)("span",{children:s.error}),a.children]})},u=function(t){var e=t.input,s=t.meta,a=Object(n.a)(t,["input","meta"]),i=s.touched&&s.error;return Object(o.jsxs)("div",{className:"".concat(c.a.formControl," + ").concat(i?c.a.error:""," "),children:[Object(o.jsx)("div",{children:Object(o.jsx)("input",Object(r.a)(Object(r.a)({},e),a))}),i&&Object(o.jsx)("span",{children:s.error})]})}},232:function(t,e,s){t.exports={formControl:"FormsControl_formControl__2gvJ0",error:"FormsControl_error__3qwFS"}},252:function(t,e,s){t.exports={posts:"MyPosts_posts__1I5jP",createPost:"MyPosts_createPost__2gifI",createPostTitle:"MyPosts_createPostTitle__wdmaw",createPostArea:"MyPosts_createPostArea__1yyUo",createPostBtn:"MyPosts_createPostBtn__1xF5q"}},300:function(t,e,s){},301:function(t,e,s){t.exports={content:"ProfileInfo_content__3sl4Z"}},302:function(t,e,s){t.exports={post:"Post_post__2jKTs",avatar:"Post_avatar__sVTKg",message:"Post_message__15MVK",like:"Post_like__2r9_N"}},323:function(t,e,s){"use strict";s.r(e);var r=s(3),n=s(61),a=s(62),c=s(64),o=s(63),i=s(0),u=s.n(i),l=s(300),j=s.n(l),d=s(301),b=s.n(d),p=s(41),f=s(82);var h=s(65);function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var s=[],r=!0,n=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(s.push(c.value),!e||s.length!==e);r=!0);}catch(i){n=!0,a=i}finally{try{r||null==o.return||o.return()}finally{if(n)throw a}}return s}}(t,e)||Object(h.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=s(1),x=function(t){var e=m(Object(i.useState)(!1),2),s=e[0],r=e[1],n=m(Object(i.useState)(""),2),a=n[0],c=n[1];Object(i.useEffect)((function(){c(t.status)}),[t.status]);var o=function(){r(!0)};return Object(O.jsx)("div",{children:s?Object(O.jsx)("input",{type:"text",onBlur:function(e){r(!1),t.updateStatus(e.currentTarget.value)},value:a,autoFocus:!0,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&(r(!1),t.updateStatus(e.currentTarget.value))}}):Object(O.jsx)("span",{onDoubleClick:o,onTouchStart:o,children:t.status?t.status:"hey"})})},v=function(t){var e=t.profile,s=t.status,r=t.updateStatus;return e?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:b.a.content,children:[Object(O.jsx)("img",{src:e.photos.small?e.photos.small:f.a,alt:""}),Object(O.jsx)(x,{status:s,updateStatus:r}),Object(O.jsxs)("div",{children:[" ",e.fullName," "]}),Object(O.jsxs)("div",{children:[" ",e.aboutMe," "]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:e.contacts.facebook?"Facebook: ".concat(e.contacts.facebook):""}),Object(O.jsx)("li",{children:e.contacts.website}),Object(O.jsx)("li",{children:e.contacts.vk}),Object(O.jsx)("li",{children:e.contacts.twitter}),Object(O.jsx)("li",{children:e.contacts.instagram}),Object(O.jsx)("li",{children:e.contacts.youtube}),Object(O.jsx)("li",{children:e.contacts.github}),Object(O.jsx)("li",{children:e.contacts.mainLink})]}),Object(O.jsx)("div",{children:e.lookingForAJobDescription})]})}):Object(O.jsx)(p.a,{})},_=s(56),P=s(252),y=s.n(P),g=s(302),S=s.n(g),k=function(t){return Object(O.jsxs)("div",{className:S.a.post,children:[Object(O.jsx)("img",{className:S.a.avatar,src:"https://image.freepik.com/free-vector/cute-avocado-cartoon-icon_138676-1820.jpg",alt:"ss"}),Object(O.jsx)("div",{className:S.a.message,children:t.message}),Object(O.jsxs)("div",{className:S.a.like,children:[Object(O.jsx)("button",{children:"+"}),t.likeCount]})]})},N=s(111),w=s(110),C=s(230),T=s(231),I=Object(C.a)(10),M=u.a.memo((function(t){return Object(O.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(O.jsx)(w.a,{className:y.a.createPostArea,component:T.b,name:"newPostText",placeholder:"enter message",validate:[C.b,I]}),Object(O.jsx)("button",{className:y.a.createPostBtn,children:"Create new Post"})]})})),A=Object(N.a)({form:"dialogsAddMessageForm"})(M),F=function(t){var e=t.posts.map((function(t){return Object(O.jsx)(k,{id:t.id,message:t.message,likeCount:t.likeCount},t.id)}));return Object(O.jsxs)("div",{className:y.a.posts,children:[Object(O.jsxs)("div",{className:y.a.createPost,children:[Object(O.jsx)("div",{className:y.a.createPostTitle,children:"My posts"}),Object(O.jsx)(A,{onSubmit:function(e){t.addPost(e.newPostText)}})]}),e]})},U=s(15),B=Object(U.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(_.a)(e))}}}))(F),J=u.a.memo((function(t){var e=t.profile,s=t.status,r=t.updateStatus;return Object(O.jsxs)("div",{className:j.a.profile,children:[Object(O.jsx)(v,{profile:e,status:s,updateStatus:r}),Object(O.jsx)(B,{})]})})),K=s(6),q=s(24),D=function(t){Object(c.a)(s,t);var e=Object(o.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.userId);t||(t=17798)||this.props.history.push("/login"),t&&(this.props.setUserProfile(t),this.props.getUserStatus(t))}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(J,Object(r.a)(Object(r.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))})}}]),s}(u.a.Component);e.default=Object(q.compose)(Object(U.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth,userId:t.auth.userId}}),{setUserProfile:_.d,updateUserStatus:_.e,getUserStatus:_.c}),K.f)(D)}}]);
//# sourceMappingURL=4.3785ddbe.chunk.js.map