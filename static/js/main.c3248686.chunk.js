(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[1],{135:function(e,t,n){},221:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=(n(135),function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,319)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))}),i=n(24),u=n(54),o=n(72),l=n(80),f=n(25),d=n(82),p=n(83),b=n(79),j=n(3),O=n(5),h=n.n(O),g=n(8);!function(e){e.SET_INITIALIZED_SUCCESS="SET_INITIALIZED_SUCCESS"}(r||(r={}));var S={initialized:!1},v=n(17),_=Object(i.combineReducers)({profilePage:u.b,dialogsPage:o.a,usersPage:l.a,auth:f.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_INITIALIZED_SUCCESS:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0});default:return e}},form:b.a}),m=Object(i.createStore)(_,Object(p.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),E=v.d,T=m;window.__store__=m;var x=n(32),w=n.n(x),N=n(13),I=(n(221),n(7)),C=n.n(I),U=n(2),y=function(){return Object(U.jsxs)("nav",{className:C.a.nav,children:[Object(U.jsx)("div",{className:C.a.item,children:Object(U.jsx)(N.b,{to:"/profile",activeClassName:C.a.active,children:"Profile"})}),Object(U.jsx)("div",{className:C.a.item,children:Object(U.jsx)(N.b,{to:"/users",activeClassName:C.a.active,children:"Users"})}),Object(U.jsx)("div",{className:"".concat(C.a.item," ").concat(C.a.active),children:Object(U.jsx)(N.b,{to:"/dialogs",activeClassName:C.a.active,children:" Dialogs"})}),Object(U.jsx)("div",{className:C.a.item,children:Object(U.jsx)(N.b,{to:"/news",activeClassName:C.a.active,children:"News"})}),Object(U.jsx)("div",{className:C.a.item,children:Object(U.jsx)(N.b,{to:"/music",activeClassName:C.a.active,children:"Music"})}),Object(U.jsx)("div",{className:C.a.item,children:Object(U.jsx)(N.b,{to:"/settings",activeClassName:C.a.active,children:"Settings"})}),Object(U.jsxs)("div",{children:[Object(U.jsx)(N.b,{to:"/friends",className:C.a.friendName,children:"Friends"}),Object(U.jsx)("div",{className:C.a.grid,children:" "})]})]})},P=n(86),A=n.n(P),L=function(){return Object(U.jsx)("footer",{className:A.a.footer,children:"footer"})},R=n(6),G=n(51),F=n.n(G),k=function(){return Object(U.jsx)("div",{children:Object(U.jsx)("div",{className:F.a.news,children:Object(U.jsx)("div",{className:F.a.newsTitle,children:"News"})})})},D=function(){return Object(U.jsx)("div",{children:"Music"})},H=function(){return Object(U.jsx)("div",{children:"Settings"})},M=n(59),W=n(60),z=n(62),B=n(61),Z=n(41),J=n.n(Z),K=function(e){var t=e.login,n=e.isAuth,r=e.logout;return Object(U.jsxs)("header",{className:J.a.header,children:[Object(U.jsx)("img",{src:"https://i1.u-mama.ru/111/87b/b3d/3f034929b4556f4a747ca0fd40c29f08.jpg",alt:"animated-boy"}),Object(U.jsx)("div",{className:J.a.loginBlock,children:n?Object(U.jsxs)("div",{className:J.a.loginBlock,children:[t,Object(U.jsx)("button",{onClick:r,children:"logout"})]}):Object(U.jsx)(N.b,{to:"/login",children:"Login"})})]})},q=function(e){Object(z.a)(n,e);var t=Object(B.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(W.a)(n,[{key:"render",value:function(){return Object(U.jsx)(K,Object(j.a)({},this.props))}}]),n}(c.a.Component),V=Object(v.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:f.d})(q),Y=n(40),Q=function(e){return Object(U.jsx)("div",{children:"hello"})};function X(e){return function(t){var n=Object.assign({},t);return Object(U.jsx)(c.a.Suspense,{fallback:Object(U.jsx)(Y.a,{}),children:Object(U.jsx)(e,Object(j.a)({},n))})}}var $=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,320))})),ee=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,322))})),te=c.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,323))})),ne=c.a.lazy((function(){return Promise.all([n.e(8),n.e(7)]).then(n.bind(null,324))})),re=function(){var e=Object(v.c)(),t=E((function(e){return e.app}));return Object(a.useEffect)((function(){e(function(){var e=Object(g.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(Object(f.b)()),e.next=3,Promise.all([n]);case 3:t({type:"SET_INITIALIZED_SUCCESS"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),t.initialized?Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(V,{}),Object(U.jsx)(y,{}),Object(U.jsxs)("div",{className:"App-wrapper-content",children:[Object(U.jsx)(R.b,{path:"/profile/:userid?",render:X(ee)}),Object(U.jsx)(R.b,{path:"/dialogs",render:X(te)}),Object(U.jsx)(R.b,{path:"/users",render:X(ne)}),Object(U.jsx)(R.b,{path:"/login",render:X($)}),Object(U.jsx)(R.b,{path:"/news",component:k}),Object(U.jsx)(R.b,{path:"/music",component:D}),Object(U.jsx)(R.b,{path:"/settings",component:H}),Object(U.jsx)(R.b,{path:"/friends",component:Q})]}),Object(U.jsx)(L,{})]}):Object(U.jsx)(Y.a,{})};w.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(N.a,{children:Object(U.jsx)(v.a,{store:T,children:Object(U.jsx)(re,{})})})}),document.getElementById("root")),s()},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return j}));var r,a=n(3),c=n(5),s=n.n(c),i=n(8),u=n(9),o=n(42);!function(e){e.SET_USER_DATA="auth/SET_USER_DATA"}(r||(r={}));var l={userId:null,email:null,login:null,isAuth:!1},f=function(e,t,n,r){return{type:"auth/SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},d=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.authMe();case 2:return 0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.email,i=r.login,t(f(a,c,i,!0))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n,r){return function(){var a=Object(i.a)(s.a.mark((function a(c){var i,l;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.login(e,t,n,r);case 2:0===(i=a.sent).data.resultCode?c(d()):(l=i.data.messages.length>0?i.data.messages[0]:"some error",c(Object(o.a)("login",{_error:l})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(){return function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.logout();case 2:0===e.sent.data.resultCode&&t(f(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_USER_DATA:return Object(a.a)(Object(a.a)({},e),t.payload);default:return e}}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n.p+"static/media/Bean Eater-1.2s-197px.7923c0b5.svg",a=(n(0),n(2)),c=function(){return Object(a.jsx)("img",{style:{position:"absolute",top:"40%",left:"50%"},src:r,alt:"Packman"})}},41:function(e,t,n){e.exports={header:"Header_header__1ZKcV",loginBlock:"Header_loginBlock__22BqA"}},51:function(e,t,n){e.exports={news:"News_news__IJ4CC",newsTitle:"News_newsTitle__RiA5e"}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return j}));var r,a=n(26),c=n(3),s=n(5),i=n.n(s),u=n(8),o=n(9);!function(e){e.ADD_POST="profile/ADD_POST",e.SET_USERS_PROFILE="profile/SET_USERS_PROFILE",e.SET_STATUS="profile/SET_STATUS"}(r||(r={}));var l=function(e){return{type:"profile/ADD_POST",newPostText:e}},f=function(e){return{type:"profile/SET_STATUS",status:e}},d=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.c.getProfileUser(e);case 2:r=t.sent,n({type:"profile/SET_USERS_PROFILE",profile:r.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getUserStatus(e);case 2:r=t.sent,n(f(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateUserStatus(e);case 2:0===t.sent.data.resultCode&&n(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.savePhoto(e);case 2:0===(r=t.sent).resultCode&&n({type:"profile/SAVE-PHOTO-SUCCESS",photos:r.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O={posts:[{id:1,message:"Hello bro",likeCount:0}],profile:null,status:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.ADD_POST:var n={id:5,message:t.newPostText,likeCount:0};return""!==t.newPostText?Object(c.a)(Object(c.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[n])}):e;case r.SET_USERS_PROFILE:return Object(c.a)(Object(c.a)({},e),{},{profile:t.profile});case r.SET_STATUS:return Object(c.a)(Object(c.a)({},e),{},{status:t.status});case"profile/DELETE_POST":return Object(c.a)(Object(c.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});default:return e}}},7:function(e,t,n){e.exports={nav:"Navbar_nav__3Ljh5",item:"Navbar_item__d_GGs",active:"Navbar_active__G7RlO",grid:"Navbar_grid__3v0Lu",friendName:"Navbar_friendName__3Ixkk"}},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r,a=n(26),c=n(3);!function(e){e.SEND_MESSAGE="dialogs/SEND_MESSAGE"}(r||(r={}));var s={dialogs:[{id:1,name:"Archi",img:"https://cs4.pikabu.ru/post_img/big/2015/03/10/5/1425968564_1301750843.jpg"},{id:2,name:"Dimich",img:"http://rasfokus.ru/images/photos/medium/71e226a2972b39c54360dfec99765e66.jpg"},{id:3,name:"The_Kot",img:"https://i1.u-mama.ru/111/87b/b3d/3f034929b4556f4a747ca0fd40c29f08.jpg"}],messages:[{id:1,message:"1st post"},{id:2,message:"How is your s ds"},{id:3,message:"Hi"},{id:4,message:"yoo"}]},i=function(e){return{type:"dialogs/SEND_MESSAGE",messageText:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SEND_MESSAGE:var n={id:6,message:t.messageText};return""!==t.messageText?Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[n])}):e;default:return e}}},80:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return v}));var r,a=n(26),c=n(3),s=n(5),i=n.n(s),u=n(8),o=n(9),l=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(c.a)(Object(c.a)({},e),r):e}))};!function(e){e.FOLLOW="users/FOLLOW",e.UNFOLLOW="users/UNFOLLOW",e.SET_USERS="users/SET_USERS",e.SET_CURRENT_PAGE="users/SET_CURRENT_PAGE",e.SET_TOTAL_USERS_COUNT="users/SET_TOTAL_USERS_COUNT",e.TOGGLE_IS_FETCHING="users/TOGGLE_IS_FETCHING",e.TOGGLE_IS_FETCHING_PROGRESS="users/TOGGLE_IS_FETCHING_PROGRESS"}(r||(r={}));var f={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},d=function(e){return{type:"users/FOLLOW",userId:e}},p=function(e){return{type:"users/UNFOLLOW",userId:e}},b=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},j=function(e){return{type:"users/TOGGLE_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"users/TOGGLE_IS_FETCHING_PROGRESS",isFetching:e,userId:t}},h=function(e,t,n){return function(){var n=Object(u.a)(i.a.mark((function n(r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(j(!0)),r(b(e)),n.next=4,o.c.getUsers(e,t);case 4:a=n.sent,r(j(!1)),r({type:"users/SET_USERS",users:a.data.items}),r({type:"users/SET_TOTAL_USERS_COUNT",count:a.data.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(){var e=Object(u.a)(i.a.mark((function e(t,n,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,r(n);case 3:0===e.sent.data.resultCode&&t(a(n)),t(O(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n,e,o.c.follow.bind(o.c),d);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(n,e,o.c.unfollow.bind(o.c),p);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.FOLLOW:return Object(c.a)(Object(c.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!0})});case r.UNFOLLOW:return Object(c.a)(Object(c.a)({},e),{},{users:l(e.users,t.userId,"id",{followed:!1})});case r.SET_USERS:return Object(c.a)(Object(c.a)({},e),{},{users:t.users});case r.SET_CURRENT_PAGE:return Object(c.a)(Object(c.a)({},e),{},{currentPage:t.currentPage});case r.SET_TOTAL_USERS_COUNT:return Object(c.a)(Object(c.a)({},e),{},{totalUsersCount:t.count});case r.TOGGLE_IS_FETCHING:return Object(c.a)(Object(c.a)({},e),{},{isFetching:t.isFetching});case r.TOGGLE_IS_FETCHING_PROGRESS:return Object(c.a)(Object(c.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},86:function(e,t,n){e.exports={footer:"Footer_footer__2ygyq"}},9:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(81),a=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"65933dcc-6afe-43bc-af50-63aed10a4c85"}}),c={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfileUser:function(e){return s.getUserProfile(e)},getFriends:function(){return a.get("users?users?page=".concat(1,"&count=",10,"friend=",!0))}},s={getUserProfile:function(e){return a.get("profile/".concat(e))},getUserStatus:function(e){return a.get("profile/status/".concat(e))},updateUserStatus:function(e){return a.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{}).then((function(e){return e.data}))}},i={authMe:function(){return a.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}}}},[[224,2,3]]]);
//# sourceMappingURL=main.c3248686.chunk.js.map